<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transfer Portal Data - TrueRoute</title>
    <link rel="stylesheet" href="assets/css/core/design-system-enhanced.css">
    <link rel="stylesheet" href="assets/css/_legacy/styles.css">
    <link rel="stylesheet" href="assets/css/pages/homepage-sports-tech.css">
    <link rel="stylesheet" href="navigation-fix.css">
    <link rel="stylesheet" href="ui-enhancements.css">
    <link rel="stylesheet" href="modern-landscape.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Force Modern Landscape background color everywhere */
        body, html, main, section, .container, div {
            background: #1A2B3C !important;
        }
        
        .transfer-data-page {
            padding: 140px 0 60px;
        }
        
        .transfer-header {
            text-align: center;
            margin-bottom: 80px;
            padding: 0 2rem;
        }

        /* Match NIL page statistics layout exactly */
        .transfer-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }

        .transfer-stat {
            background: rgba(125, 211, 252, 0.1);
            border: 1px solid rgba(125, 211, 252, 0.3);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .transfer-stat:hover {
            transform: translateY(-5px);
            border-color: rgba(125, 211, 252, 0.5);
            box-shadow: 0 10px 30px rgba(125, 211, 252, 0.1);
        }

        .transfer-stat-number {
            font-size: 3.5rem;
            font-weight: 900;
            color: #7DD3FC !important;
            font-family: 'Montserrat', sans-serif;
            line-height: 1;
            margin-bottom: 0.5rem;
            display: block;
        }

        .transfer-stat-label {
            color: #ffffff !important;
            font-size: 0.9rem;
            font-weight: 500;
            opacity: 0.9;
        }

        /* Major spacing between all segments */
        section {
            margin: 6rem 0;
            padding: 4rem 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Generous spacing for all major segments */
        .transfer-stats, .transfer-context-section, .why-athletes-transfer, 
        .data-stories-section, .insights-section {
            margin: 6rem 0;
            padding: 4rem 0;
        }

        /* Space between cards within segments */
        .stat-card, .story-card {
            margin-bottom: 3rem;
        }

        /* Space between different content blocks */
        .data-grid, .story-grid, .insights-grid {
            margin: 4rem 0;
        }
        
        .transfer-header h1 {
            font-size: 3rem;
            font-weight: 800;
            color: #ffffff !important;
            margin-bottom: 2rem;
            line-height: 1.2;
        }
        
        .transfer-header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8) !important;
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* Better spacing for section titles */
        h2 {
            margin-bottom: 2rem !important;
            margin-top: 3rem !important;
        }

        /* Improve paragraph spacing */
        p {
            margin-bottom: 1.5rem !important;
        }
        
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 48px;
            margin-bottom: 80px;
        }
        
        .data-card {
            background: white;
            padding: 48px 32px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .data-card:hover {
            transform: translateY(-8px);
        }
        
        .data-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-navy);
            margin-bottom: 24px;
        }
        
        .data-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid var(--border-light);
        }
        
        .data-stat:last-child {
            border-bottom: none;
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--text-gray);
        }
        
        .stat-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-blue);
        }
        
        .trends-section {
            background: white;
            padding: 60px 0;
            margin-top: 80px;
        }
        
        .trends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 32px;
        }
        
        .trend-item {
            text-align: center;
            padding: 32px 24px;
            background: var(--bg-light);
            border-radius: 12px;
        }
        
        .trend-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-blue);
            margin-bottom: 12px;
        }
        
        .trend-label {
            font-size: 1rem;
            color: var(--text-gray);
        }
        
        .back-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 40px;
        }
        
        .back-btn:hover {
            background: var(--primary-navy);
        }
    </style>
</head>
<body class="sports-tech-theme">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="logo">
                    <svg width="40" height="40" viewBox="0 0 100 100" fill="none">
                        <!-- Realistic Football Player Running Route -->
                        <g transform="translate(20,10)">
                            <!-- Head/Helmet -->
                            <circle cx="30" cy="15" r="7" fill="#2C5AA0"/>
                            <path d="M25 12 L35 12 M27 15 L33 15" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                            
                            <!-- Torso -->
                            <path d="M30 22 L28 45 L32 45 Z" fill="#4A90E2"/>
                            <rect x="26" y="25" width="8" height="15" rx="2" fill="#357ABD"/>
                            
                            <!-- Left Arm (pumping back) -->
                            <path d="M26 28 L18 32 L16 38" stroke="#2C5AA0" stroke-width="3" stroke-linecap="round"/>
                            
                            <!-- Right Arm (forward with ball) -->
                            <path d="M34 28 L42 25 L45 22" stroke="#2C5AA0" stroke-width="3" stroke-linecap="round"/>
                            
                            <!-- Football in hand -->
                            <ellipse cx="46" cy="20" rx="2.5" ry="4" fill="#8B4513" transform="rotate(25 46 20)"/>
                            <path d="M44 20 L48 20" stroke="white" stroke-width="0.8"/>
                            
                            <!-- Left Leg (back, bent) -->
                            <path d="M28 45 L26 55 L24 65" stroke="#2C5AA0" stroke-width="4" stroke-linecap="round"/>
                            
                            <!-- Right Leg (forward, extended) -->
                            <path d="M32 45 L36 55 L40 62" stroke="#2C5AA0" stroke-width="4" stroke-linecap="round"/>
                            
                            <!-- Cleats -->
                            <ellipse cx="23" cy="66" rx="3" ry="1.5" fill="#1a365d"/>
                            <ellipse cx="41" cy="63" rx="3" ry="1.5" fill="#1a365d"/>
                        </g>
                        
                        <!-- Route Path -->
                        <path d="M10 80 Q30 70, 50 75 Q70 80, 90 65" stroke="#4A90E2" stroke-width="2.5" fill="none" opacity="0.7" stroke-dasharray="3,2"/>
                        <circle cx="90" cy="65" r="3" fill="#F39C12" stroke="white" stroke-width="1"/>
                        
                        <!-- Speed lines -->
                        <path d="M15 45 L8 47 M12 50 L5 52 M18 55 L11 57" stroke="#4A90E2" stroke-width="1.5" opacity="0.4" stroke-linecap="round"/>
                    </svg>
                </div>
                <span class="brand-text">TrueRoute</span>
            </div>
            <nav class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="nil-info.html" class="nav-link">NIL Info</a>
                <a href="transfer-data.html" class="nav-link">Transfers</a>
                <a href="modern-landscape.html" class="nav-link">Modern Landscape</a>
                <a href="write-review.html" class="nav-link">Write Review</a>
                <a href="sign-in.html" class="nav-link login-btn">Sign In</a>
            </nav>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Transfer Data Page -->
    <section class="transfer-data-page">
        <div class="container">
            <button class="back-btn" onclick="window.location.href='index.html'">
                <i class="fas fa-arrow-left"></i> Back to Home
            </button>
            
            <div class="transfer-header" style="margin-bottom: 2rem;">
                <h1 style="margin-bottom: 0.5rem;">NCAA Transfer Portal Data</h1>
                <p style="margin-bottom: 0;">Comprehensive insights into college athletics transfer trends and statistics</p>
            </div>
            
            <!-- Key Numbers -->
            <div class="transfer-stats">
                <div class="transfer-stat">
                    <div class="transfer-stat-number">4,611</div>
                    <div class="transfer-stat-label">Currently Active Portal Players</div>
                </div>
                <div class="transfer-stat">
                    <div class="transfer-stat-number">9.4%</div>
                    <div class="transfer-stat-label">Average YoY Growth Rate</div>
                </div>
                <div class="transfer-stat">
                    <div class="transfer-stat-number">62%</div>
                    <div class="transfer-stat-label">Success Rate (Find New Program)</div>
                </div>
            </div>
            
        </div>
    </section>
    
    <!-- Transfer Portal Revolution Context -->
    <section class="transfer-context-section" style="background: rgba(255, 255, 255, 0.05); padding: 60px 0; margin: 40px 0; border-radius: 12px; border: 1px solid rgba(14, 165, 233, 0.3);">
        <div class="container">
            <h2 style="color: #FFFFFF; text-align: center; margin-bottom: 30px; font-size: 2.2rem;">The Transfer Portal Revolution: From Restriction to Free Agency</h2>
            <div style="max-width: 800px; margin: 0 auto; color: #FFFFFF; opacity: 0.9; line-height: 1.6; margin-bottom: 40px;">
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    <strong>April 2021</strong> changed everything. The NCAA eliminated its one-year sit-out rule, allowing athletes one immediate transfer without penalty. Then in <strong>April 2024</strong>, they went even further - unlimited transfers with immediate eligibility.
                </p>
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    The result? A 255% increase in portal entries since 2020. What was once a trickle of desperate athletes became a flood of strategic career moves. College athletics now resembles professional free agency more than amateur sports.
                </p>
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    <strong>The perfect storm:</strong> COVID eligibility extensions + NIL money + unlimited transfers + older players staying longer = the most complex recruiting landscape in history.
                </p>
            </div>
            
            <div class="transfer-timeline" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 40px;">
                <div class="timeline-card" style="background: rgba(14, 165, 233, 0.1); padding: 25px; border-radius: 8px; border-left: 4px solid #7DD3FC;">
                    <h4 style="color: #7DD3FC; margin-bottom: 10px; font-size: 1.1rem;">Pre-2021: The Dark Ages</h4>
                    <p style="color: #FFFFFF; opacity: 0.9; font-size: 0.95rem;">Athletes had to sit out a year if they transferred. Portal entries were rare and desperate.</p>
                </div>
                <div class="timeline-card" style="background: rgba(14, 165, 233, 0.1); padding: 25px; border-radius: 8px; border-left: 4px solid #7DD3FC;">
                    <h4 style="color: #7DD3FC; margin-bottom: 10px; font-size: 1.1rem;">2021: One-Time Transfer</h4>
                    <p style="color: #FFFFFF; opacity: 0.9; font-size: 0.95rem;">NCAA allows one immediate transfer. Portal entries explode from hundreds to thousands.</p>
                </div>
                <div class="timeline-card" style="background: rgba(14, 165, 233, 0.1); padding: 25px; border-radius: 8px; border-left: 4px solid #7DD3FC;">
                    <h4 style="color: #7DD3FC; margin-bottom: 10px; font-size: 1.1rem;">2024: Unlimited Freedom</h4>
                    <p style="color: #FFFFFF; opacity: 0.9; font-size: 0.95rem;">All transfer restrictions eliminated. College athletics becomes true free agency.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Real Transfer Stories -->
    <section class="transfer-stories-section" style="padding: 60px 0; margin: 40px 0;">
        <div class="container">
            <h2 style="color: #FFFFFF; text-align: center; margin-bottom: 40px; font-size: 2.2rem;">Why Athletes Transfer: Real Stories</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px;">
                <div class="story-card" style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 12px; border: 1px solid rgba(14, 165, 233, 0.3);">
                    <div style="margin-bottom: 20px;">
                        <span style="color: #7DD3FC; font-weight: 600; font-size: 0.9rem;">FORMER BACKUP QUARTERBACK</span>
                    </div>
                    <blockquote style="color: #FFFFFF; font-style: italic; margin-bottom: 15px; font-size: 1.05rem;">
                        "I was promised a chance to compete for the starting job, but after two years on the bench, I realized it wasn't happening. The portal gave me a second chance at my dream."
                    </blockquote>
                    <div style="color: #7DD3FC; font-size: 0.9rem; font-weight: 600;">Now starting at a Group of 5 school</div>
                </div>
                
                <div class="story-card" style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 12px; border: 1px solid rgba(14, 165, 233, 0.3);">
                    <div style="margin-bottom: 20px;">
                        <span style="color: #7DD3FC; font-weight: 600; font-size: 0.9rem;">BASKETBALL PLAYER</span>
                    </div>
                    <blockquote style="color: #FFFFFF; font-style: italic; margin-bottom: 15px; font-size: 1.05rem;">
                        "When our coach got fired, everything changed. The new system didn't fit my game, and I wasn't getting the NIL opportunities I needed to support my family."
                    </blockquote>
                    <div style="color: #7DD3FC; font-size: 0.9rem; font-weight: 600;">Transferred for better NIL opportunities</div>
                </div>
                
                <div class="story-card" style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 12px; border: 1px solid rgba(14, 165, 233, 0.3);">
                    <div style="margin-bottom: 20px;">
                        <span style="color: #7DD3FC; font-weight: 600; font-size: 0.9rem;">GRADUATE STUDENT</span>
                    </div>
                    <blockquote style="color: #FFFFFF; font-style: italic; margin-bottom: 15px; font-size: 1.05rem;">
                        "I had one year of eligibility left and wanted to pursue a master's degree my school didn't offer. The portal let me continue playing while advancing my education."
                    </blockquote>
                    <div style="color: #7DD3FC; font-size: 0.9rem; font-weight: 600;">Academic and athletic goals aligned</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Beautiful Data Visualizations -->
    <section class="glass" style="padding: 2rem 0;">
        <div class="container">
            <!-- Main Charts Grid -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; margin-bottom: 4rem; max-width: 1400px; margin-left: auto; margin-right: auto;">
                
                <!-- 1. Interactive Stacked Bar Chart: Undergrad vs Grad Entrants -->
                <div style="background: linear-gradient(135deg, rgba(74, 144, 226, 0.15), rgba(138, 43, 226, 0.15)); border-radius: 16px; padding: 2rem; border: 2px solid rgba(74, 144, 226, 0.4); box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1);">
                    <h3 style="color: #60A5FA; margin-bottom: 1.5rem; font-size: 1.4rem; text-align: center; font-weight: 700;">Total Entrants by Year</h3>
                    <div style="position: relative; height: 380px;">
                        <canvas id="entrantsChart" style="max-height: 300px;"></canvas>
                    </div>
                    
                </div>
                
                <!-- 2. Interactive Pie Chart: Portal Outcomes -->
                <div style="background: linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(255, 215, 0, 0.15)); border-radius: 16px; padding: 2rem; border: 2px solid rgba(0, 212, 170, 0.4); box-shadow: 0 8px 32px rgba(0, 212, 170, 0.1);">
                    <h3 style="color: #00D4AA; margin-bottom: 1.5rem; font-size: 1.4rem; text-align: center; font-weight: 700;">2024 Portal Outcomes</h3>
                    
                    <!-- Interactive Pie Chart -->
                    <div style="position: relative; height: 300px; display: flex; justify-content: center; margin-bottom: 2rem;">
                        <canvas id="portalOutcomesChart" style="max-height: 280px;"></canvas>
                    </div>
                    
                </div>
            </div>
            
            <!-- Interactive Financial Aid Impact Chart - Full Width Row -->
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(74, 144, 226, 0.15)); border-radius: 16px; padding: 2rem; border: 2px solid rgba(255, 215, 0, 0.4); box-shadow: 0 8px 32px rgba(255, 215, 0, 0.1);">
                    <h3 style="color: #FFD700; margin-bottom: 1.5rem; font-size: 1.4rem; text-align: center; font-weight: 700;">Financial Aid Impact on Transfer Success</h3>
                    <div style="position: relative; height: 350px;">
                        <canvas id="financialAidChart" style="max-height: 320px;"></canvas>
                    </div>
                </div>
            </div>
            
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>TrueRoute</h3>
                    <p>Empowering student-athletes with honest, detailed program reviews and insights.</p>
                </div>
                <div class="footer-section">
                    <h4>For Athletes</h4>
                    <ul>
                        <li><a href="sport-selection.html">Browse Programs</a></li>
                        <li><a href="write-review.html">Write Review</a></li>
                        <li><a href="nil-info.html">NIL Information</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#guide">Review Guidelines</a></li>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 TrueRoute. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Dynamic data loading with sample data badge
        let transferData = null;
        
        async function loadTransferData() {
            try {
                const response = await fetch('/data/transfer.json');
                if (!response.ok) {
                    throw new Error('Failed to load transfer data');
                }
                transferData = await response.json();
                populateData();
                
                // Add sample data badge if it's sample data
                if (transferData.metadata && transferData.metadata.isSampleData) {
                    addSampleDataBadge();
                }
            } catch (error) {
                console.error('Error loading transfer data:', error);
                showErrorState();
            }
        }
        
        function populateData() {
            if (!transferData) return;
            
            // Current Portal Activity
            document.getElementById('currentActive').textContent = transferData.currentPortalActivity.currentActive.toLocaleString();
            document.getElementById('thisWeek').textContent = '+' + transferData.currentPortalActivity.thisWeek;
            document.getElementById('thisMonth').textContent = '+' + transferData.currentPortalActivity.thisMonth;
            document.getElementById('peakSeason').textContent = transferData.currentPortalActivity.peakSeason;
            
            // By Sport 2024
            document.getElementById('football').textContent = transferData.bySport2024.football.toLocaleString();
            document.getElementById('basketballMen').textContent = transferData.bySport2024.basketballMen.toLocaleString();
            document.getElementById('basketballWomen').textContent = transferData.bySport2024.basketballWomen.toLocaleString();
            document.getElementById('baseball').textContent = transferData.bySport2024.baseball.toLocaleString();
            
            // Transfer Success Rates
            document.getElementById('findNewProgram').textContent = transferData.transferSuccessRates.findNewProgram;
            document.getElementById('sameDivision').textContent = transferData.transferSuccessRates.sameDivision;
            document.getElementById('moveUpDivision').textContent = transferData.transferSuccessRates.moveUpDivision;
            document.getElementById('graduateTransfers').textContent = transferData.transferSuccessRates.graduateTransfers;
            
            // Top Reasons for Transfer
            document.getElementById('playingTime').textContent = transferData.topReasonsForTransfer.playingTime;
            document.getElementById('coachingChange').textContent = transferData.topReasonsForTransfer.coachingChange;
            document.getElementById('academicFit').textContent = transferData.topReasonsForTransfer.academicFit;
            document.getElementById('nilOpportunities').textContent = transferData.topReasonsForTransfer.nilOpportunities;
            
            // Trends
            document.getElementById('increaseSince2020').textContent = transferData.trends.increaseSince2020;
            document.getElementById('averageDaysInPortal').textContent = transferData.trends.averageDaysInPortal;
            document.getElementById('underclassmenTransfers').textContent = transferData.trends.underclassmenTransfers;
            document.getElementById('averageNilValueTopTransfers').textContent = transferData.trends.averageNilValueTopTransfers;
            
            // Animate the current active counter
            animateCurrentActive();
        }
        
        function animateCurrentActive() {
            const counter = document.getElementById('currentActive');
            if (!counter || !transferData) return;
            
            const targetNumber = transferData.currentPortalActivity.currentActive;
            const startNumber = Math.max(targetNumber - 200, 0);
            const duration = 2000;
            const increment = (targetNumber - startNumber) / (duration / 50);
            
            let currentNumber = startNumber;
            const timer = setInterval(() => {
                currentNumber += increment;
                if (currentNumber >= targetNumber) {
                    currentNumber = targetNumber;
                    clearInterval(timer);
                }
                counter.textContent = Math.floor(currentNumber).toLocaleString();
            }, 50);
        }
        
        function addSampleDataBadge() {
            const badge = document.createElement('div');
            badge.innerHTML = `
                <div style="position: fixed; bottom: 20px; right: 20px; background: rgba(14, 165, 233, 0.8); color: white; padding: 6px 12px; border-radius: 12px; font-size: 0.75rem; font-weight: 500; z-index: 1000; box-shadow: 0 2px 6px rgba(0,0,0,0.1); opacity: 0.8;">
                    ðŸ“Š Sample Data
                </div>
            `;
            document.body.appendChild(badge);
        }
        
        function showErrorState() {
            const elements = document.querySelectorAll('.stat-value, .trend-number');
            elements.forEach(el => {
                if (el.textContent === 'Loading...') {
                    el.textContent = 'Error';
                    el.style.color = '#ff6b6b';
                }
            });
        }
        
        // Load data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadTransferData();
            // Add delay to ensure Chart.js is loaded
            setTimeout(createRealDataVisualizations, 2000);
            // Create the new interactive charts
            setTimeout(() => {
                createEntrantsChart();
                createPortalOutcomesChart();
                createFinancialAidChart();
            }, 500);
        });
        
        // Also try when window loads
        window.addEventListener('load', function() {
            setTimeout(createRealDataVisualizations, 500);
        });
        
        // Create exciting visualizations with your real data!
        function createRealDataVisualizations() {
            console.log('Creating visualizations...');
            console.log('Chart.js available:', typeof Chart !== 'undefined');
            
            // Real Transfer Portal Data from your scraping!
            const realData = {
                years: [2022, 2023, 2024],
                totalEntrants: [12448, 9411, 14875],
                percentTransferred: [57, 60, 62],
                percentWithdrawn: [8, 8, 7],
                percentActive: [35, 32, 31],
                percentTransferredAided: [54, 62, 64],
                percentTransferredUnaided: [21, 11, 27]
            };
            
            if (typeof Chart === 'undefined') {
                console.error('Chart.js not loaded!');
                return;
            }
            
            createTransferTrendsChart(realData);
            createTransferOutcomesChart(realData);
            createAidedVsUnaidedChart(realData);
        }
        
        function createTransferTrendsChart(data) {
            console.log('Creating trends chart...');
            const ctx = document.getElementById('transferTrendsChart');
            console.log('Canvas element found:', !!ctx);
            if (!ctx) {
                console.error('transferTrendsChart canvas not found!');
                return;
            }
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.years,
                    datasets: [{
                        label: 'Total Portal Entrants',
                        data: data.totalEntrants,
                        borderColor: '#4A90E2',
                        backgroundColor: 'rgba(74, 144, 226, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }, {
                        label: '% Successfully Transferred',
                        data: data.percentTransferred,
                        borderColor: '#00D4AA',
                        backgroundColor: 'rgba(0, 212, 170, 0.1)',
                        borderWidth: 3,
                        fill: false,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Transfer Portal Growth & Success Rate',
                            color: '#FFFFFF',
                            font: { size: 16, weight: 'bold' }
                        },
                        legend: { labels: { color: '#FFFFFF' } }
                    },
                    scales: {
                        x: { ticks: { color: '#FFFFFF' }, grid: { color: 'rgba(255,255,255,0.1)' } },
                        y: { ticks: { color: '#FFFFFF' }, grid: { color: 'rgba(255,255,255,0.1)' } },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            ticks: { color: '#00D4AA' },
                            grid: { drawOnChartArea: false }
                        }
                    }
                }
            });
        }
        
        function createTransferOutcomesChart(data) {
            const ctx = document.getElementById('transferOutcomesChart');
            if (!ctx) return;
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Successfully Transferred', 'Still Active', 'Withdrawn'],
                    datasets: [{
                        data: [62, 31, 7], // 2024 data
                        backgroundColor: [
                            '#4A90E2',
                            '#00D4AA', 
                            '#FF6B6B'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: '2024 Transfer Portal Outcomes',
                            color: '#FFFFFF',
                            font: { size: 16, weight: 'bold' }
                        },
                        legend: { 
                            labels: { color: '#FFFFFF' },
                            position: 'bottom'
                        }
                    }
                }
            });
        }
        
        function createAidedVsUnaidedChart(data) {
            const ctx = document.getElementById('aidedUnaidedChart');
            if (!ctx) return;
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.years,
                    datasets: [{
                        label: 'Aided Transfers (%)',
                        data: data.percentTransferredAided,
                        backgroundColor: '#4A90E2',
                        borderRadius: 4
                    }, {
                        label: 'Unaided Transfers (%)',
                        data: data.percentTransferredUnaided,
                        backgroundColor: '#00D4AA',
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Financial Aid Status of Transfers',
                            color: '#FFFFFF',
                            font: { size: 16, weight: 'bold' }
                        },
                        legend: { labels: { color: '#FFFFFF' } }
                    },
                    scales: {
                        x: { ticks: { color: '#FFFFFF' }, grid: { color: 'rgba(255,255,255,0.1)' } },
                        y: { 
                            ticks: { color: '#FFFFFF' }, 
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            beginAtZero: true,
                            max: 80
                        }
                    }
                }
            });
        }
        
        // Create the interactive stacked bar chart for entrants
        function createEntrantsChart() {
            const ctx = document.getElementById('entrantsChart');
            if (!ctx) {
                console.error('Entrants chart canvas not found!');
                return;
            }
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['2022', '2023', '2024'],
                    datasets: [{
                        label: 'Undergraduate Students',
                        data: [8756, 9411, 10369],
                        backgroundColor: '#4A90E2',
                        borderRadius: 6,
                        borderSkipped: false
                    }, {
                        label: 'Graduate Students',
                        data: [3692, 4442, 4506],
                        backgroundColor: '#8A2BE2',
                        borderRadius: 6,
                        borderSkipped: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'point',
                        intersect: true
                    },
                    plugins: {
                        legend: {
                            display: false // Using custom legend
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.9)',
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            borderColor: '#4A90E2',
                            borderWidth: 2,
                            cornerRadius: 8,
                            callbacks: {
                                title: function(context) {
                                    return context[0].label;
                                },
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            stacked: true,
                            ticks: { 
                                color: '#FFFFFF',
                                font: { size: 12, weight: 'bold' }
                            },
                            grid: { display: false }
                        },
                        y: {
                            stacked: true,
                            ticks: { 
                                color: '#FFFFFF',
                                callback: function(value) {
                                    return (value / 1000) + 'K';
                                }
                            },
                            grid: { 
                                color: 'rgba(255,255,255,0.1)',
                                lineWidth: 1
                            },
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Create the interactive pie chart for portal outcomes
        function createPortalOutcomesChart() {
            const ctx = document.getElementById('portalOutcomesChart');
            if (!ctx) {
                console.error('Portal outcomes chart canvas not found!');
                return;
            }
            
            new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['Transferred', 'Still Active', 'Withdrawn'],
                    datasets: [{
                        data: [62, 31, 7],
                        backgroundColor: [
                            '#00D4AA',  // Green for Transferred
                            '#FFD700',  // Gold for Still Active
                            '#FF6B6B'   // Red for Withdrawn
                        ],
                        borderColor: '#FFFFFF',
                        borderWidth: 4,
                        hoverBorderWidth: 6,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false  // We're using our custom legend
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.9)',
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            borderColor: '#00D4AA',
                            borderWidth: 2,
                            cornerRadius: 8,
                            callbacks: {
                                label: function(context) {
                                    const studentCounts = [9223, 4611, 1041];
                                    const count = studentCounts[context.dataIndex];
                                    return context.label + ': ' + count.toLocaleString() + ' students (' + context.parsed + '%)';
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        animateScale: true
                    }
                }
            });
        }

        // Create the interactive line chart for financial aid impact
        function createFinancialAidChart() {
            const ctx = document.getElementById('financialAidChart');
            if (!ctx) {
                console.error('Financial aid chart canvas not found!');
                return;
            }
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2022', '2023', '2024'],
                    datasets: [{
                        label: 'With Financial Aid',
                        data: [54, 62, 64],
                        borderColor: '#4A90E2',
                        backgroundColor: 'rgba(74, 144, 226, 0.1)',
                        borderWidth: 4,
                        pointBackgroundColor: '#4A90E2',
                        pointBorderColor: '#FFFFFF',
                        pointBorderWidth: 3,
                        pointRadius: 8,
                        pointHoverRadius: 10,
                        tension: 0.3,
                        fill: false
                    }, {
                        label: 'Without Financial Aid',
                        data: [21, 11, 27],
                        borderColor: '#FF6B6B',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        borderWidth: 4,
                        borderDash: [8, 4],
                        pointBackgroundColor: '#FF6B6B',
                        pointBorderColor: '#FFFFFF',
                        pointBorderWidth: 3,
                        pointRadius: 8,
                        pointHoverRadius: 10,
                        tension: 0.3,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'point',
                        intersect: true
                    },
                    plugins: {
                        legend: {
                            display: false // Using tooltips instead
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.9)',
                            titleColor: '#FFFFFF',
                            bodyColor: '#FFFFFF',
                            borderColor: '#FFD700',
                            borderWidth: 2,
                            cornerRadius: 8,
                            callbacks: {
                                title: function(context) {
                                    return context[0].label;
                                },
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y + '% success rate';
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            ticks: { 
                                color: '#FFFFFF',
                                font: { size: 14, weight: 'bold' }
                            },
                            grid: { display: false }
                        },
                        y: {
                            ticks: { 
                                color: '#FFFFFF',
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            grid: { 
                                color: 'rgba(255,255,255,0.1)',
                                lineWidth: 1
                            },
                            beginAtZero: true,
                            max: 70
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
